# 함수형 프로그래밍(Functional Programming, FP)

알론조 처치가 1930년대에 개발한 **[람다 대수(lambda-calculus)](https://goo.gl/RUPRmZ)**는 함수에 대한 이론적 기반을 세웠다. 프로그래밍 언어가 아닌 수학적 추상화였지만 함수형 프로그래밍의 근간을 이루게 되었다. 

[위키백과 - 함수형 프로그래밍](https://goo.gl/kXyqPb)
> 자료 처리를 수학적 함수의 계산으로 취급하고 상태와 가변 데이터를 멀리하는 프로그래밍 패러다임의 하나이다.

- 순수함수(pure function)를 조합하고
- 공유 상태(shared state), 변경가능한 데이터(mutable data) 및 부작용(side-effects)을 피하여 소프트웨어를 만드는 프로세스
- 명령형(imperative)이 아닌 선언형(declarative)이며
- 애플리케이션의 상태는 순수 함수를 통해 전달 된다.  
(애플리케이션의 상태가 일반적으로 공유되고 객체의 메소드와 함께 배치되는 객체 지향 프로그래밍과는 대조됨)

[위키백과 - 클로저](https://goo.gl/An1mdv)
> **일급 객체 함수(first-class functions)의 개념을 이용**해 스코프(scope)에 묶인 변수를 바인딩하기 위한 일종의 기술.  
기능상으로, 클로저는 함수를 저장한 레코드(record)이며  
스코프의 인수들은 클로저가 만들어질 때 정의되며, 스코프 내의 영역이 소멸되었어도 그에 대한 접근은 독립된 복사본인 클로저를 통해 이뤄질 수 있다.

## 1.1. 순수 함수

### 1.1.1. 함수란

어떤 인수(arguments)라 불리는 입력이 있으면 리턴 값(return value)이라 불리는 출력이 있는 과정이다.

함수는 다음과 같은 목적으로 사용될 수 있다.
+ **맵핑(Mapping)**: 함수는 입력값을 출력값에 맵핑한다.
+ **프로시저(Procedures)**: 일련의 단계를 수행하기 위해 함수를 호출할 수 있다. 이 시퀀스를 프로시저라하며, 이 스타일의 프로그래밍을 [절차지향적 프로그래밍(procedural programming)](https://goo.gl/E7qSPT)이라 한다.
+ **I/O(input/output)**: 일부 함수는 screen, storage, system log 또는 네크워크 같은 다른 시스템의 부분과 통신하기 위해 존재한다.

> I/O: 컴퓨터와 같은 정보처리시스템과 외부 세계, 사람 또는 다른 정보처리시스템간의 통신이다.

### 1.1.2. Mapping

순수함수는 맵핑과 관련이 있다.  
함수가 입력 인수를 리턴값에 맵핑한다. 즉, 각 입력 집합에 대해 출력이 존재한다. 함수는 입력을 받아 해당 출력을 반환한다.

```js
Math.max(2, 8, 5) // 8
```
`Math.max`메소드는 숫자를 인수로 받아 가장 큰 수를 반환한다.

대수에서 함수
```
f(x) = 2x
```
f라는 함수를 선언하고, x라는 인수를 취해 x에 2를 곱하는 것을 의미함  
이 함수를 우리는 x에 값을 제공하는 것으로 간단하게 사용할 수 있다.
```
f(2)  
```
대수에서 이것은 4라고 표기하는 것과 같다.  

자바스크립트의 함수로 변환해보면 다음과 같다.
```js
const double = x => x * 2
console.log(double(5)) // 10
```
수학에서 `f(2)`를 `4`로 바꾸듯이 자바스크립트 엔진은 `double(5)`를 `10`으로 바꾼다.

그래서 `console.log(double(5))`는 `console.log(10)`과 같다.

이는 `double()`이 순수함수이기 때문에 true 이지만, 만약 `double()`이 console에 로깅(logging)되거나 disk에 값을 저장하는 것 같은 side-effetcs가 있다면 의미 변화없이 `double(5)`를 `10`으로 바꿀 수 없다.

**참조 투명성(refrential transparency)을 원하면 순수 함수를 사용**해야한다.

### 1.1.3. 순수함수

+ 같은 입력이 주어지면 항상 같은 출력을 반환한다.(순수함수는 어떤 입력을 받아 그 입력을 기반으로 어떤 출력을 반환한다.)
+ 주어진 입력으로 계산하는 것 이외에 함수의 실행이 외부에 영향을 끼치지 않는 함수(부수효과(side-effects)가 없다.)
+ 프로그램 코드에서 가장 간단하게 재사용 가능한 빌딩 블록이다.
+ 순수함수는 완전히 외부 상태와 독립적이다.  
공유된 가변 상태와 관련된 버그의 전체 클래스에 영향을 받지 않는다.
+ 독립적인 특성으로 인해 많은 CPU와 전체 분산 컴퓨팅 클러스터 전반에서 병렬 처리가 가능해, 다양한 유형의 과학적, 리소스 집약적 컴퓨팅 작업에 적합하다.
+ 순수함수는 매우 독립적이기 때문에 코드에서 쉽게 돌아다니고, 리팩토링하고, 재구성 할 수 있어 프로그램의 유연성과 향후 변경 사항에 대한 적응력이 향상된다.

---

# 관련 글

- [람다, 익명 함수, 클로저](https://goo.gl/sNq8uU)
- [번역 - 함수형 프로그래밍이란 무엇인가?](https://sungjk.github.io/2017/07/17/fp.html)
- [Master the JavaScript Interview: What is a Pure Function?](https://goo.gl/jRpE8o)
- [함수형 프로그래머가 되고 싶다고?](https://goo.gl/we5ZEj)